@using Resources
@model IEnumerable<Trezorix.Sparql.Api.Core.Accounts.Account>

<div data-ng-model="data">
	
	<div class="panel panel-default" >
		<div id="account_" class="panel-heading form-inline" data-ng-click="toggleGroup($event, '')">
			<strong style="font-size: 1.5em">Accounts</strong>
			<a href="#/account/new/new" class="btn btn-sm btn-primary pull-right space-below">@EditorStrings.CreateAccount</a>
		</div>

		<table class="table table-striped" data-ng-show="isGroupVisible('')">
			<tbody>
				@foreach (var account in Model.OrderBy(a => a.FullName))
				{
					<tr>
						<td><a href="#/account/@(account.Id)/@(account.ApiKey)">@account.FullName</a></td>
						<td>@account.ApiKey.ToString()</td>
						<td style="width: 5%">
              <button type="button" data-ng-click="deleteAccount('@account.Id')" class="btn pull-right glyphicon glyphicon-trash icon" title="@EditorStrings.Delete"> </button>

							@*@using (Html.BeginForm("Delete", "Query", new {id = query.Id}, FormMethod.Post, new {@class = "form-inline pull-right"}))
								{
									<input type="submit" class="btn btn-sm @(ViewBag.Account == null ? "disabled" : "")" value="@EditorStrings.Delete" />
								}*@
						</td>
						<td style="width: 5%">
							<a href="#/account/@(account.Id)/@(account.ApiKey)" class="btn btn-default pull-right glyphicon glyphicon-pencil icon" title="@EditorStrings.Edit"> </a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>